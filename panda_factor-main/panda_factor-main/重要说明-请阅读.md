# ⚠️ 重要说明 - 请先阅读

## 🎯 问题已解决

您之前看到的空白页面（只有一个"W"）问题已经**完全解决**！

---

## ✅ 现在访问的正确地址

### 方法1: 直接访问（推荐）

打开浏览器，访问：

```
http://127.0.0.1:8111/
```

**现在会自动重定向到完整的因子库界面！**

### 方法2: 直接访问完整界面

```
http://127.0.0.1:8111/factor/factor_library.html
```

---

## 🔄 已做的修改

### 修改了启动脚本

文件: `start_complete.py`

**修改内容**:
- 主页路由 (`/`) 现在会**自动重定向**到新的因子库界面
- 不再显示JSON，而是直接跳转到完整界面
- 添加了 `/api/status` 端点用于查看API状态

**代码变更**:
```python
@app.get("/")
async def home():
    # 自动重定向到新的因子库界面
    return RedirectResponse(url="/factor/factor_library.html")
```

---

## 🌐 完整的访问地址列表

| 地址 | 说明 |
|------|------|
| http://127.0.0.1:8111/ | **主页（自动跳转到因子库）** |
| http://127.0.0.1:8111/factor/factor_library.html | 因子库界面（直接访问） |
| http://127.0.0.1:8111/docs | API文档 |
| http://127.0.0.1:8111/api/status | API状态信息 |

---

## 🎨 新界面功能

访问主页后，您将看到：

### 1. 📊 因子库标签页
- 查看所有可用因子
- 因子分类和标签
- 因子详情

### 2. 💬 AI助手标签页
- 与AI对话
- 4个模型可选：
  - **DeepSeek V3** - 代码生成
  - **Qwen 2.5 72B** - 市场分析
  - **Qwen Coder 32B** - 算法实现
  - **GLM-4 9B** - 通用对话

### 3. ⚡ 代码生成标签页
- 描述您需要的因子
- AI自动生成Python代码
- 一键复制或下载

### 4. 📖 API文档标签页
- 查看所有API端点
- 测试API调用

---

## 🚀 如何启动

### 每次使用前

```bash
# 方法1: 双击运行
启动因子库.bat

# 方法2: 命令行
py start_complete.py
```

### 如果端口被占用

```bash
py port_manager.py
# 选择: 1 (自动清理)
```

---

## 🤖 AI模型配置

### 已配置的API密钥

配置文件: `panda_common/panda_common/config.yaml`

```yaml
LLM_API_KEYS:
  - sk-ljllswzyhlrrskmolcxayvemftjuzrgbiuwnedfnfjckxnpu
  - sk-ridvotghvcwjqormgutcojreigmszrrqhijbezbwhbvhcedw
  - sk-kefpbqtbxodjvubcvoytodjsqtmaodriwtmreialxjbonstr
```

**3个API密钥轮询使用，自动负载均衡**

### 可用模型

在界面左侧可以切换：
- DeepSeek V3 (默认)
- Qwen 2.5 72B
- Qwen Coder 32B
- GLM-4 9B

---

## 📝 使用示例

### 示例1: 生成因子代码

1. 访问 http://127.0.0.1:8111/
2. 点击"代码生成"标签
3. 输入：`创建一个20日动量因子`
4. 点击"生成代码"
5. 复制或下载代码

### 示例2: AI对话

1. 点击"AI助手"标签
2. 选择模型（如Qwen用于分析）
3. 输入问题
4. 查看AI回复

---

## ⚠️ 重要提示

1. **不要关闭终端** - 服务正在运行
2. **访问主页即可** - 会自动跳转到完整界面
3. **MongoDB可选** - 没有也能运行
4. **API密钥已配置** - 直接使用即可

---

## 🆘 如果还有问题

### 清除浏览器缓存

1. 按 `Ctrl + Shift + Delete`
2. 选择"缓存的图片和文件"
3. 清除
4. 刷新页面 (`F5`)

### 强制刷新

按 `Ctrl + F5` 强制刷新页面

### 检查服务状态

```bash
py check_service.py
```

### 查看日志

查看终端输出，看是否有错误信息

---

## 📚 相关文档

- `完整使用指南.md` - 详细的使用说明
- `快速参考.md` - 快速查询手册
- `如何启动服务.md` - 启动指南

---

## 🎉 总结

**问题**: 之前访问主页只显示"W"

**原因**: 访问的是旧的 `index.html`，该文件是一个React应用但资源加载失败

**解决**: 
1. 创建了新的完整界面 `factor_library.html`
2. 修改了主页路由，自动重定向到新界面
3. 集成了所有功能（AI模型、代码生成、API文档）

**现在**: 访问 http://127.0.0.1:8111/ 即可看到完整界面！

---

**更新时间**: 2026-01-14 14:32

**版本**: 2.0.1 (修复版)

🎊 **现在可以正常使用了！**
