<!DOCTYPE html>
<html>
<head>
    <title>PandaAI QuantFlow - è¶…çº§å›¾è¡¨</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial; margin: 0; padding: 20px; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #667eea, #764ba2); 
                  color: white; padding: 20px; border-radius: 10px; }
        .container { max-width: 1400px; margin: 0 auto; }
        .chart-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; 
                      margin-top: 20px; }
        .chart-card { background: white; padding: 20px; border-radius: 10px; 
                      box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .chart-title { font-size: 16px; font-weight: bold; margin-bottom: 10px; }
        .chart-canvas { width: 100%; height: 300px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š è¶…çº§å›¾è¡¨</h1>
            <p>é‡‘èæ•°æ®å¯è§†åŒ–åˆ†æå¹³å°</p>
        </div>
        
        <div class="chart-grid">
            <div class="chart-card">
                <div class="chart-title">ğŸ“ˆ ä»·æ ¼èµ°åŠ¿</div>
                <canvas class="chart-canvas" id="price-chart"></canvas>
            </div>
            
            <div class="chart-card">
                <div class="chart-title">ğŸ“Š æˆäº¤é‡</div>
                <canvas class="chart-canvas" id="volume-chart"></canvas>
            </div>
            
            <div class="chart-card">
                <div class="chart-title">ğŸ¯ æŠ€æœ¯æŒ‡æ ‡</div>
                <canvas class="chart-canvas" id="indicator-chart"></canvas>
            </div>
            
            <div class="chart-card">
                <div class="chart-title">ğŸ’° æ”¶ç›Šæ›²çº¿</div>
                <canvas class="chart-canvas" id="return-chart"></canvas>
            </div>
        </div>
    </div>
    
    <script>
        // ç»˜åˆ¶ç¤ºä¾‹å›¾è¡¨
        function drawChart(canvasId, color) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.offsetWidth;
            const height = canvas.height = canvas.offsetHeight;
            
            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = '#ddd';
            ctx.beginPath();
            ctx.moveTo(40, height - 40);
            ctx.lineTo(width - 20, height - 40);
            ctx.moveTo(40, 20);
            ctx.lineTo(40, height - 40);
            ctx.stroke();
            
            // ç»˜åˆ¶ç¤ºä¾‹æ•°æ®
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.beginPath();
            for(let i = 0; i < 100; i++) {
                const x = 40 + (width - 60) * i / 100;
                const y = height/2 + Math.sin(i/10) * 50 + Math.random() * 20 - 10;
                if(i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
        }
        
        drawChart('price-chart', '#667eea');
        drawChart('volume-chart', '#4ade80');
        drawChart('indicator-chart', '#fbbf24');
        drawChart('return-chart', '#ff6b6b');
        
        // è·å–å¸‚åœºæ•°æ®
        fetch('http://127.0.0.1:8000/api/market/overview')
            .then(r => r.json())
            .then(data => console.log('Market Data:', data))
            .catch(e => console.log('Failed to fetch market data'));
    </script>
</body>
</html>